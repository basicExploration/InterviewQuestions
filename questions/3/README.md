# 问

我们知道，CPU资源是有限的，任务的处理速度与线程个数并不是线性正相关。相反，过多的线程反而会导致CPU频繁切换，处理性能下降。所以，线程池 的大小一般都是综合考虑要处理任务的特点和硬件环境，来事先设置的。
当我们向固定大小的线程池中请求一个线程时，如果线程池中没有空闲资源了，这个时候线程池如何处理这个请求?是拒绝请求还是排队请求?各种处理策
该如何实现呢？


## 答

将请求放到一个队列中，当按照题目中的样子时，可以直接拒绝，也可以等待，当有些需求已经结束的时候把这个需求出队列，然后再把这个新的需求加入队列中
并且分配给它线程。（加入队列的过程就是分配线程的过程）

所以说一般遇到需要资源排队的时候用队列很合适了，用完就出队，有空余就让需求进队列，然后队列里都是线程，这个有点像逛窑子。窑子里都是小姐，然后你想去那啥，但是满了，可是当有人结束了，他就出来了，空余一个床铺你就可以补进去了，而且补进去的时候可以立马给你分配小姐，这跟线程池这种行为很像啊。
